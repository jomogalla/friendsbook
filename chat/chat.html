<h3> 
	<a href="#/group/{{vm.group.$id}}">{{vm.group.title}}</a>
	<small>
		{{vm.group.description}}
		<span class="pull-right">
			<a href="#/chat/{{vm.group.$id}}" class="active">chat</a> /
			<a href="#/members/{{vm.group.$id}}">members</a> /
			<a href="#/settings/{{vm.group.$id}}">settings</a>
		</span>
	</small>
</h3>

<hr>

<div class="chat">
	<div class="well well-sm">
		<ul class="list-unstyled">
			<li ng-repeat="message in vm.messages" class="animate-repeat"> 
				<!-- <a href="#/profile/{{message.uid}}" class="text-info" ng-show="message.name">{{message.name}}</a>
				<a href="#/profile/{{message.uid}}" class="text-info" ng-show="!message.name">{{message.uid}}</a> -->
				<span class="text-info" ng-show="message.name">{{message.name}}</span>
				<span class="text-info" ng-show="!message.name">{{message.uid}}</span>
				: {{message.message}}
				<!-- <span class="text-info" uid="simplelogin:1" userlink>{{message.uid}}</span>: {{message.message}}{{message.uid}} -->
				<!-- <span class="text-info" uid="{{message.uid}}"userlink></span>: {{message.text}} -->
			</li>
		</ul>
	</div>
	<form class="form form-horizontal" ng-submit="vm.submitMessage()" name="chatInput" novalidate>
		<div class="form-group">
			<div class="col-md-10 col-xs-9">
				<input type="text" placeholder="friendsbook chat" class="form-control" ng-model="vm.inputText" name="inputText" required="" autofocus>
			</div>
			<div class="col-md-2 col-xs-3">
				<button type="submit" class="btn btn-block btn-info" ng-disabled="!chatInput.$valid">say it</button>
			</div>
		</div>
	</form>
</div>
<script>
	// Cheater script to autoscroll chat to the bottom
	var messageList = $('.well ul');
	var well = $('.well');

	messageList.bind('DOMNodeInserted', function(){
		well[0].scrollTop = well[0].scrollHeight;
	});
</script>